
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://pcengines.github.io/apu2-documentation/mpcie_modules/">
      
      
        <link rel="prev" href="../microcode_patching/">
      
      
        <link rel="next" href="../order_of_PCI_addresses/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>List of supported mPCIe modules - apu2 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#list-of-supported-mpcie-modules" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="apu2 Documentation" class="md-header__button md-logo" aria-label="apu2 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            apu2 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              List of supported mPCIe modules
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="apu2 Documentation" class="md-nav__button md-logo" aria-label="apu2 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    apu2 Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../apu_CPU_boost/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APU Core Performance Boost
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../apu_ecc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issues with ECC enabling
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../apu_flashing_ipxe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PC Engines APUx flashing with iPXE usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../apu_flashing_with_rpi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flashing APUx with Raspberry Pi
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../APU_mPCIe_capabilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APU mPCIe capabilities
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../apu2_vboot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vboot measured boot on apu2
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../apu2_vs_apu3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apu2 vs apu3
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../apu2_vs_apu4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apu2 vs apu4
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cbmem_building/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coreboot cbmem building
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cold_reset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Performing cold reset remotely
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../firmware_flashing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Firmware flashing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../flashrom_building/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flashrom building
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../generating_coreboot_support_logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generating coreboot support logs and sending them for verification purposes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../gpios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    APU GPIO tutorial
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ipxe_compile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ipxe compile
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux_issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Known issues with Linux
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../microcode_patching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microcode patching on PC Engines apu2/3/4/5
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    List of supported mPCIe modules
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    List of supported mPCIe modules
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lte-modules" class="md-nav__link">
    <span class="md-ellipsis">
      LTE modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LTE modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quectel-ep06" class="md-nav__link">
    <span class="md-ellipsis">
      Quectel EP06
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#huawei-me909u" class="md-nav__link">
    <span class="md-ellipsis">
      HUAWEI ME909u
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#huawei-me906s-m2" class="md-nav__link">
    <span class="md-ellipsis">
      HUAWEI ME906s M.2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wifi-modules" class="md-nav__link">
    <span class="md-ellipsis">
      WiFi modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WiFi modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wle200nx" class="md-nav__link">
    <span class="md-ellipsis">
      WLE200NX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wle600vx" class="md-nav__link">
    <span class="md-ellipsis">
      WLE600VX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wle900vx" class="md-nav__link">
    <span class="md-ellipsis">
      WLE900VX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wle1216v5-20" class="md-nav__link">
    <span class="md-ellipsis">
      WLE1216V5-20
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aw7915-np1" class="md-nav__link">
    <span class="md-ellipsis">
      AW7915-NP1
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ethernet-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      Ethernet controllers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ethernet controllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dual-ethernet-controller-realtek-rtl8111" class="md-nav__link">
    <span class="md-ellipsis">
      Dual Ethernet Controller Realtek RTL8111
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sata-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      SATA controllers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SATA controllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asmedia-asm1061" class="md-nav__link">
    <span class="md-ellipsis">
      ASMedia ASM1061
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-hardware-fixes" class="md-nav__link">
    <span class="md-ellipsis">
      Other hardware fixes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other hardware fixes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apu2" class="md-nav__link">
    <span class="md-ellipsis">
      apu2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apu3" class="md-nav__link">
    <span class="md-ellipsis">
      apu3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apu4" class="md-nav__link">
    <span class="md-ellipsis">
      apu4
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../order_of_PCI_addresses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Order of PCI addresses
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../os_boot_serial_console/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enabling OS boot serial console and setting connection parameters
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../os-status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tested operating systems
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../pfsense_installerconfig/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unattended installation PFSense
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../pfSense-install-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pfSense Installation Guide
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../pxelinux-cfg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pxelinux cfg
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../release_process/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release process
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sd_card_performance_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sd card performance test
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../serial_console/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Serial console output in coreboot
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../supported_coreboot_build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building firmware supported by coreboot
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../theory-of-operation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    apu features - theory of operation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tianocore_build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Coreboot with tianocore payload on apu2
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tpm_menu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SeaBIOS TPM configuration menu
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tpm_pin_mapping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pin mapping
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../voyage_image_building_alix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building Voyage Linux image for PC Engines ALIX platforms
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../voyage_linux_netinst/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring Voyage Linux netinst
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../voyage_linux_sd_card_install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Voyage linux sd card install
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../power_consumption_testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Power Consumption Testing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_37" >
        
          
          <label class="md-nav__link" for="__nav_37" id="__nav_37_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    debug
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_37_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_37">
            <span class="md-nav__icon md-icon"></span>
            debug
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/AGESA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AGESA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/alix3d2_issue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issue description of PC Engines ALIX2D3 board
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/cpu_frequency/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debug notes for CPU frequency issues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/debian_kernel_rebuild/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debian kernel rebuild
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/external_sd_slot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    External sd slot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/freeDOS_problems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Problems with FreeDOS on APU2 platform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/hdd_mPCIe_log_analyze/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hdd mPCIe log analyze
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/hdd_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hdd test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/iommu/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AMD I/O Virtualization Technology (IOMMU)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/mpcie_ethernet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mpcie ethernet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/mpcie1_mpcie2_ethernet_card/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Problems with APU2 when using Mini PCI-Express Dual Gigabit Ethernet Controller Card
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/mpcie2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ASM1061 in the J13 slot problems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/openwrt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Openwrt booting from SD card issue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/pfsense-ahci-issue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pfSense installation tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/sd_registers_bad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sd registers bad
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/sdcard_debug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sdcard debug
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/sdcard_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sdcard test
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/tplink_hg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tplink hg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/tpm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TPM support for apu platforms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/usb-debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    apu2 USB xHCi debugging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/usb-sticks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    USB sticks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/usb-tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    USB tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../debug/warmboot_reset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Doubled sign of life
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_38" >
        
          
          <label class="md-nav__link" for="__nav_38" id="__nav_38_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    research
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_38_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_38">
            <span class="md-nav__icon md-icon"></span>
            research
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/apu_bios_write_protect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BIOS write protect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/early-cbmem-implementation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Early cbmem implementation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/fast_boot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PC Engines fast boot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/freebsd_tpm_support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FreeBSD TPM2.0 support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/geode_lx/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ALIX and AMD Geode LX
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/Orange_Pi_flasher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orange Pi flasher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/power-consumption-tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PC Engines apu3 power consumption tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/ROCA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROCA TPM vulnerability verification and status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/RPI_SPI_flasher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RPI flasher
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/tpm2-triage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Report of TPM2 support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../research/USB_compliance_test/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    USB compliance tests
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lte-modules" class="md-nav__link">
    <span class="md-ellipsis">
      LTE modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LTE modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#quectel-ep06" class="md-nav__link">
    <span class="md-ellipsis">
      Quectel EP06
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#huawei-me909u" class="md-nav__link">
    <span class="md-ellipsis">
      HUAWEI ME909u
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#huawei-me906s-m2" class="md-nav__link">
    <span class="md-ellipsis">
      HUAWEI ME906s M.2
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wifi-modules" class="md-nav__link">
    <span class="md-ellipsis">
      WiFi modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WiFi modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wle200nx" class="md-nav__link">
    <span class="md-ellipsis">
      WLE200NX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wle600vx" class="md-nav__link">
    <span class="md-ellipsis">
      WLE600VX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wle900vx" class="md-nav__link">
    <span class="md-ellipsis">
      WLE900VX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wle1216v5-20" class="md-nav__link">
    <span class="md-ellipsis">
      WLE1216V5-20
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aw7915-np1" class="md-nav__link">
    <span class="md-ellipsis">
      AW7915-NP1
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ethernet-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      Ethernet controllers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ethernet controllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dual-ethernet-controller-realtek-rtl8111" class="md-nav__link">
    <span class="md-ellipsis">
      Dual Ethernet Controller Realtek RTL8111
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sata-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      SATA controllers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SATA controllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asmedia-asm1061" class="md-nav__link">
    <span class="md-ellipsis">
      ASMedia ASM1061
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-hardware-fixes" class="md-nav__link">
    <span class="md-ellipsis">
      Other hardware fixes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Other hardware fixes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apu2" class="md-nav__link">
    <span class="md-ellipsis">
      apu2
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apu3" class="md-nav__link">
    <span class="md-ellipsis">
      apu3
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apu4" class="md-nav__link">
    <span class="md-ellipsis">
      apu4
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="list-of-supported-mpcie-modules">List of supported mPCIe modules</h1>
<p>This document contains a list of supported WiFi and LTE modules in mini PCI
Express card form factor. Document intends to present limitations of the
modules and quirks necessary for their flawless operation.</p>
<blockquote>
<p>The list is currently limited only to tested and verified modules</p>
</blockquote>
<h2 id="lte-modules">LTE modules</h2>
<blockquote>
<p>Note: By default, in apu3/4, the SIM card slots are "crossed", that is to say,
the left SIM slot is wired to the mSATA slot and the right SIM slot is wired
to the mPCIe2 slot. You can swap the SIM slots on the fly using GPIO 410 -
follow <a href="../gpios/">the GPIO documentation</a> for detailed instructions.</p>
</blockquote>
<h3 id="quectel-ep06">Quectel EP06</h3>
<p><img alt="Quectel EP06" src="https://www.quectel.com/UploadImage/Product/20171016143013431.png" /></p>
<p>This LTE module has certain problems with detection in the operating systems.
The module uses a USB interface to communicate with the processor and OS. Due
to the availability of USB 2.0 and USB 3.0 interfaces in the module, it often
gets enumerated incorrectly. The presence of USB 3.0 lanes causes the module to
use the USB 3.0 protocol instead of the USB 2.0 protocol. The mPCIe slots on
apu boards have only USB 2.0 signals routed to the connectors. In place of the
USB 3.0 signals, apu boards have either PCIe signals or SATA signals for WiFi
and mSATA modules respectively. The design of the modules is intended to
support majority of the modules, but it will not always be compatible with all
possible modules, please take it into consideration.</p>
<p><strong>Symptoms of the wrong detection:</strong></p>
<ul>
<li>only 1 ttyUSB node created by OS</li>
<li>no ttyUSB nodes created by OS</li>
<li>errors in USB enumeration for the module in dmesg</li>
</ul>
<p><strong>Solutions:</strong></p>
<ol>
<li>Contact PC Engines for a module firmware update with USB 3.0 protocol
   disabled if You have problems with module detection.</li>
<li>Cover USB 3.0 signals on the module with tape to block signal connection as
   shown in the picture:</li>
</ol>
<p><img alt="Quectel EP06 pinout" src="../images/quectel_pinout.png" /></p>
<p>Black pins mean that they have to be covered with tape. The 6 black pins on
the top side are USB3.0 signals. Two pins on the bottom side are I2C/SMBus pins
which also should be covered with tape. The module design requires pull-ups on
the mainboard side, but they are not present on apu.</p>
<p><strong>Compatible slots:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004; &sup1;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004; &sup1;</td>
</tr>
</tbody>
</table>
<p>(1) Do not forget to enable EHCI0 controller in sortbootorder</p>
<blockquote>
<p>For each port's capabilities please refer to <a href="../APU_mPCIe_capabilities/">mPCIe port capabilities</a></p>
</blockquote>
<h3 id="huawei-me909u">HUAWEI ME909u</h3>
<p><img alt="HUAWEI ME909u" src="https://www.4gltemall.com/media/catalog/product/cache/1/image/650x650/9df78eab33525d08d6e5fb8d27136e95/h/u/huawei_me909u-521.jpg" /></p>
<p>This module works fairly well with all apu boards.
But be aware that due to its <a href="https://forum.openwrt.org/t/cdc-ether-ethertype-unknown-0x0808-on-huawei-me909u-521/5509">buggy firmware</a>,
<a href="https://gitlab.freedesktop.org/mobile-broadband/ModemManager/-/issues/635#note_1576091">LTE may not work in some conditions</a>
with the default <code>cdc_ether</code> driver selected by <code>usb_modeswitch</code>.
You may have more success using the <code>qmi_wwan</code> driver
(<code>echo Configuration=1 &gt;/etc/usb_modeswitch.d/12d1:1573</code>)
which implements a workaround in <a href="https://github.com/torvalds/linux/blob/v5.19/drivers/net/usb/qmi_wwan.c#L542-L561">qmi_wwan_rx_fixup()</a>.</p>
<p><strong>Compatible slots:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004; &sup1;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004; &sup1;</td>
</tr>
</tbody>
</table>
<p>(1) Do not forget to enable EHCI0 controller in sortbootorder</p>
<h3 id="huawei-me906s-m2">HUAWEI ME906s M.2</h3>
<p>There is an option to use the M.2 Key B to Mini PCIE PCI-E Adapter Converter
for 3G/4G/5G and connect Huawei ME906s M.2 4G to compatible mPCIe slot. This
adapter includes routing the SIM signals so APU SIM slot may be used without
problems.</p>
<p>Kudos to Jamie Lentin (@lentinj) for checking this.</p>
<p><img alt="M.2 Key B to Mini PCIE PCI-E Adapter Converter" src="../images/m2_converter.jpg" /></p>
<p><img alt="HUAWEI ME906s" src="../images/m2_lte.jpg" /></p>
<p><strong>Compatible slots:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004; &sup1;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004; &sup1;</td>
</tr>
</tbody>
</table>
<p>(1) Do not forget to enable EHCI0 controller in sortbootorder</p>
<h2 id="wifi-modules">WiFi modules</h2>
<h3 id="wle200nx">WLE200NX</h3>
<p><img alt="WLE200NX" src="http://shop.compex.com.sg/media/catalog/product/cache/1/image/9df78eab33525d08d6e5fb8d27136e95/w/l/wle200nx_new_1500.jpg" /></p>
<p>This module works fairly well with all apu boards. The module may have issues
with interrupts. Related issues:</p>
<ul>
<li><a href="https://github.com/pcengines/coreboot/issues/206">coreboot #206</a></li>
<li><a href="https://github.com/pcengines/coreboot/issues/285">coreboot #285</a></li>
<li><a href="https://github.com/pcengines/coreboot/issues/323">coreboot #323</a></li>
</ul>
<p><strong>Compatible slots:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
</tbody>
</table>
<p><strong>Quirks:</strong></p>
<p>The real culprit of interrupt routing problems is the ath9k kernel module
responsible for WLE200NX operation. The module has no robust interrupt
implementation and tries to remap legacy INTx interrupt with IOMMU which is not
possible due to technical reasons. The correct solution is to force ath9k
kernel module to use MSI interrupts which can be remapped. This can be done
with:</p>
<div class="highlight"><pre><span></span><code>echo &quot;options ath9k use_msi=1&quot; | sudo tee -a /etc/modprobe.d/ath9k.conf
</code></pre></div>
<p>When the module is loaded, it initializes interrupts coming from WiFi devices
to be a MSI type. MSI interrupts are correctly remapped by kernel with IOMMU,
thus the issue is not present.</p>
<p>Other solutions with kernel command line options:</p>
<ul>
<li><code>amd_iommu=off</code> - disables the use of IOMMU in kernel.</li>
<li><code>intremap=off</code> - disables security feature of IOMMU called interrupt
  remapping.</li>
</ul>
<h3 id="wle600vx">WLE600VX</h3>
<p><img alt="WLE600VX" src="http://www.compexshop.com/images/WLE600VX_r.png" /></p>
<p>This module works fairly well with all apu boards. Tested by PC Engines and apu
users.</p>
<p><strong>Compatible slots:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
</tbody>
</table>
<p><strong>Quirks:</strong></p>
<ul>
<li>Sometimes the module may have problems with OS communication on mainline
  releases. In such case providing <code>amd_iommu=off</code> to kernel command line may
  help.</li>
</ul>
<h3 id="wle900vx">WLE900VX</h3>
<p><img alt="WLE900VX" src="http://www.compexshop.com/images/WLE900VX-itemp_r.png" /></p>
<p>This module works fairly well with all apu boards.</p>
<p><strong>Compatible slots:</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
</tbody>
</table>
<p><strong>Quirks:</strong></p>
<ul>
<li>Sometimes the module may have problems with OS communication on mainline
  releases. In such case providing <code>amd_iommu=off</code> to kernel command line may
  help.</li>
</ul>
<h3 id="wle1216v5-20">WLE1216V5-20</h3>
<p><img alt="WLE1216V5-20" src="https://compex.com.sg/wp-content/uploads/2018/09/wle1216v5-20.jpg" /></p>
<p>Correct detection of this module is a little tricky and hardware related. Due
to different PCI Express reset circuit on apu boards, apu2 has problems with
this particular module detection. Most likely due to different reset timing
caused by different <code>PE_RST</code> circuitry on apu2, the module does not come out
of reset in time during PCI enumeration and thus is not detected in BIOS and
operating system.</p>
<p><strong>Quirks:</strong></p>
<ul>
<li>On apu2 in mPCIe2 slot module works only after a soft reboot with legacy
  firmware, however during the tests we have encountered kernel panics. On the
  other hand users did not experience kernel panics and are able to use the
  module after reboot. The apu2 board revision plays a huge role in the
  mentioned problems.</li>
<li>on apu3 and apu4 the module works with any firmware and does not require
  reboot</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10004; &sup1;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
</tbody>
</table>
<p>(1) Refer to quirks, it is known to not work stably on all apu2 board revisions</p>
<h3 id="aw7915-np1">AW7915-NP1</h3>
<p><img alt="AW7915-NP1" src="../images/mt7915e.jpg" /></p>
<p>The AW7915-NP1 is a MediaTek MT7915E based Wi-Fi 6 (802.11ax) card from AsiaRF.
It features 4x4 MIMO and support for 160MHz channels, and a maximum theoretical
bandwidth of 2400 Mb/s. In the apu2, the card can reach over 1Gb/s transfer
speeds in ideal conditions.</p>
<p>This module has been tested to work reliably in an apu2c4 board running OpenWRT
21.02.02. No firmware tweaks are necessary for correct operation.</p>
<p>The card gets hot under sustained operation, easily reaching over 130 degrees
celsius if not cooled sufficiently. A heatsink is recommended, the card does
not come with one.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
</tbody>
</table>
<h2 id="ethernet-controllers">Ethernet controllers</h2>
<h3 id="dual-ethernet-controller-realtek-rtl8111">Dual Ethernet Controller Realtek RTL8111</h3>
<p><img alt="RTL8111" src="../images/realtek_controller.jpg" /></p>
<p><strong>Compatible slots</strong></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Platform</th>
<th style="text-align: center;">mPCIe1</th>
<th style="text-align: center;">mPCIe2</th>
<th style="text-align: center;">mSATA</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">apu2</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10004; &sup1;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu3</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
<tr>
<td style="text-align: center;">apu4</td>
<td style="text-align: center;">&#10004;</td>
<td style="text-align: center;">&#10006;</td>
<td style="text-align: center;">&#10006;</td>
</tr>
</tbody>
</table>
<p>(1) If RTL8111 is attached to mPCIe2 slot then option <em>force mPCIe2 slot Clk</em> in
Payload menu must be enabled</p>
<p>This model works well with apu1 boards. However, on apu2, apu3 and apu4
platforms following steps should be done to correctly enable it:</p>
<ol>
<li>
<p>On apu2 board (apu1, apu3 and apu4 boards aren't affected) make sure to
enable option <em>force mPCIe2 slot Clk</em> in Payload menu if you attached module to
mPCIe2 slot. This menu is available during boot process by pressing <code>F10</code>
button. In OS now, you should be able to see your Ethernet controller under PCI
devices.</p>
</li>
<li>
<p>Manually download and install missing Realtek firmware. Even if Ethernet
controller is recognized by OS it won't work correctly without it. Installation
can be done, for example in Debian OS, by performing those steps:</p>
<ul>
<li>Edit <code>/etc/apt/sources.list</code> file. It should contain additional two
lines:
<div class="highlight"><pre><span></span><code>deb http://ftp.pl.debian.org/debian stretch main non-free
deb-src  http://ftp.pl.debian.org/debian stretch main non-free
</code></pre></div></li>
<li>Update apt-get:
<div class="highlight"><pre><span></span><code>sudo apt-get update
</code></pre></div></li>
<li>Install Realtek firmware
<div class="highlight"><pre><span></span><code>sudo apt-get install firmware-realtek
</code></pre></div></li>
</ul>
</li>
</ol>
<h2 id="sata-controllers">SATA controllers</h2>
<h3 id="asmedia-asm1061">ASMedia ASM1061</h3>
<p>Module is NOT SUPPORTED by PC Engines apu platforms. ASM1061 was tested with
Delock 95233 mPCIe 2xSATA module.</p>
<p><img alt="ASM1061" src="../images/delock_95233.png" /></p>
<p><strong>Compatible slots</strong></p>
<p>Due to apu boards construction, it is possible to test that module only under
apu2 mPCIe2 slot. Capacitors placed near the mPCIe1 slot prevent connecting the
SATA cables to the module. Therefore, module was tested only in mPCIe2 slot.
After multiple tests performed, it turned out that ASM1061 module is not
supported by PC Engines apu2 platform.</p>
<p><strong>Tests results</strong></p>
<p>Carried out tests and their results are presented in <a href="../debug/mpcie2/">debug documentation</a>.
Detection problem is described more precisely there. Also, possible reasons
of ASM1061 behavior are presented. Anyway, in every case and configuration
that module doesn't work properly.</p>
<h2 id="other-hardware-fixes">Other hardware fixes</h2>
<p>A good source of hardware fixes information of Your board is the
<a href="https://pcengines.ch/">PC Engines site</a>.</p>
<p>If You think Your problem may be related to issues listed here, contact PC
Engines for details.</p>
<p>If You have not found a solution either after reading this document or
contacting PC Engines, feel free to open <a href="https://github.com/pcengines/coreboot/issues">GitHub issue.</a></p>
<h3 id="apu2">apu2</h3>
<p>Set of changes for apu2:</p>
<p><strong>Version apu2d:</strong></p>
<ul>
<li>Reduce leakage current between V3 and V3A power rails (can cause problems
  with SD cards).</li>
<li>Add options for better compatibility with LTE modem modules.</li>
</ul>
<p><strong>Version apu2c:</strong></p>
<ul>
<li>Integrate blue wire patches (EMI, power-up circuit) into PCB fab.</li>
</ul>
<h3 id="apu3">apu3</h3>
<p>Set of changes for apu3:</p>
<p><strong>Version apu3c:</strong></p>
<ul>
<li>Improve compatibility with LTE modem modules: Disconnect SMB_DAT / SMB_CLK
  signals (1.8V level on Quectel).</li>
<li>Improve compatibility with LTE modem modules: No stuff diodes D4 / D17,
  option resistor bypass (extremely low VIL on Huawei modems, sensitive to
  incoming EMI).</li>
<li>Optional SIM presence indicator / SIM card detect.</li>
<li>Disable non-functional NCT5104D watchdog timer.</li>
<li>Increase 3.3V current limit to allow for two simultaneous LTE modems.</li>
<li>Some DFM changes.</li>
</ul>
<p><strong>Version apu3b:</strong></p>
<ul>
<li>Fixed USB header J13 pinout.</li>
</ul>
<p><strong>Version apu3a:</strong></p>
<ul>
<li>The pinout on USB header J13 is wrong, do not use.</li>
</ul>
<h3 id="apu4">apu4</h3>
<p>Set of changes for apu4:</p>
<p><strong>Version apu4c:</strong></p>
<ul>
<li>Minimize leakage from V3A to V3 rail (SD card compatibility)</li>
<li>Fix USB header J12 pinout.</li>
<li>Change SIM switch to FXLA2203, FXLA2204 went EOL.</li>
<li>New 2GB version apu4c2, single SIM socket.</li>
<li>Optional 10 pin LPC header to allow for future TPM option.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>